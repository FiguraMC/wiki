"use strict";(self.webpackChunkfigurawiki=self.webpackChunkfigurawiki||[]).push([[893],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>m});var o=n(7294);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,o,l=function(e,t){if(null==e)return{};var n,o,l={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}var u=o.createContext({}),r=function(e){var t=o.useContext(u),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},p=function(e){var t=r(e.components);return o.createElement(u.Provider,{value:t},e.children)},d="mdxType",h={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},c=o.forwardRef((function(e,t){var n=e.components,l=e.mdxType,a=e.originalType,u=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),d=r(n),c=l,m=d["".concat(u,".").concat(c)]||d[c]||h[c]||a;return n?o.createElement(m,s(s({ref:t},p),{},{components:n})):o.createElement(m,s({ref:t},p))}));function m(e,t){var n=arguments,l=t&&t.mdxType;if("string"==typeof e||l){var a=n.length,s=new Array(a);s[0]=c;var i={};for(var u in t)hasOwnProperty.call(t,u)&&(i[u]=t[u]);i.originalType=e,i[d]="string"==typeof e?e:l,s[1]=i;for(var r=2;r<a;r++)s[r]=n[r];return o.createElement.apply(null,s)}return o.createElement.apply(null,n)}c.displayName="MDXCreateElement"},5182:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>u,contentTitle:()=>s,default:()=>h,frontMatter:()=>a,metadata:()=>i,toc:()=>r});var o=n(7462),l=(n(7294),n(3905));const a={},s=void 0,i={unversionedId:"tutorials/Sounds",id:"tutorials/Sounds",title:"Sounds",description:"Using Figura you can play custom sounds and sounds from Minecraft itself.",source:"@site/docs/tutorials/Sounds.md",sourceDirName:"tutorials",slug:"/tutorials/Sounds",permalink:"/tutorials/Sounds",draft:!1,editUrl:"https://github.com/figuramc/wiki/tree/main/docs/tutorials/Sounds.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Pings",permalink:"/tutorials/Pings"},next:{title:"Tables",permalink:"/tutorials/Tables"}},u={},r=[{value:"Playing A Sound",id:"playing-a-sound",level:2},{value:"Custom Sounds",id:"custom-sounds",level:2},{value:"Mono vs Stereo Sounds",id:"mono-vs-stereo-sounds",level:3},{value:"Alternative Ways To Play Sounds",id:"alternative-ways-to-play-sounds",level:2},{value:"stop",id:"stop",level:3},{value:"play",id:"play",level:3},{value:"pause",id:"pause",level:3},{value:"setPos(vec3)",id:"setposvec3",level:3},{value:"getPos",id:"getpos",level:3},{value:"isPlaying",id:"isplaying",level:3},{value:"setVolume(number)",id:"setvolumenumber",level:3},{value:"getVolume",id:"getvolume",level:3},{value:"setPitch(number)",id:"setpitchnumber",level:3},{value:"getPitch",id:"getpitch",level:3},{value:"setLoop(bool)",id:"setloopbool",level:3},{value:"isLooping",id:"islooping",level:3},{value:"setAttenuation(number)",id:"setattenuationnumber",level:3},{value:"getAttenuation",id:"getattenuation",level:3},{value:"setSubtitle(string)",id:"setsubtitlestring",level:3},{value:"getSubtitle",id:"getsubtitle",level:3}],p={toc:r},d="wrapper";function h(e){let{components:t,...n}=e;return(0,l.kt)(d,(0,o.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("p",null,"Using Figura you can play custom sounds and sounds from Minecraft itself."),(0,l.kt)("p",null,"This article assumes you know to avoid calling the player in init."),(0,l.kt)("h2",{id:"playing-a-sound"},"Playing A Sound"),(0,l.kt)("p",null,"The most common way to play a sound is through the ",(0,l.kt)("code",null,"playSound")," function in the sound API."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-lua"},"sounds:playSound(soundID,position,volume,pitch,loop)\n")),(0,l.kt)("p",null,"As you can see this function takes five arguments, the sound ID, the position it will be played, the volume (this dictates how close players need to be to hear the sound, default is 1), its pitch (default is 1), and whether or not it will start playing immediately after it ends (default is false)."),(0,l.kt)("p",null,"For Minecraft sounds the sound ID is the internal name of the sound, you can find these on the ",(0,l.kt)("a",{parentName:"p",href:"https://minecraft.fandom.com/wiki/Sounds.json/Java_Edition_values"},"Minecraft Wiki")," under the Sound Event column. It will play one of the sounds associated with that ID at random."),(0,l.kt)("p",null,"Example, note that the id is a string because it's in quotes:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-lua"},'sounds:playSound("entity.bat.ambient",player:getPos())\n')),(0,l.kt)("p",null,"For this example I'm supplying the player position as the location or else it will play at (0,0,0) in the world itself. Because I left out the volume, pitch, and loop, the default values of 1, 1, and false were filled in by Figura. Meaning, it will play with default pitch, default volume, and it won't loop."),(0,l.kt)("p",null,"Example with the other arguments filled:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-lua"},'sounds:playSound("entity.bat.ambient",player:getPos(),5,3,false)\n')),(0,l.kt)("h2",{id:"custom-sounds"},"Custom Sounds"),(0,l.kt)("p",null,"Playing a custom sound is exactly the same as playing a Minecraft sound, except the sound ID is now the name of the sound file."),(0,l.kt)("p",null,"Ex: If your file is ",(0,l.kt)("code",null,"horn.ogg")," then your playSound line would look like this:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-lua"},'sounds:playSound("horn",player:getPos())\n')),(0,l.kt)("p",null,"Minecraft will only play specific sound files, namely sounds that are .ogg files. Here's an ",(0,l.kt)("a",{parentName:"p",href:"https://audio.online-convert.com/convert-to-ogg"},"online OGG converter"),". You will want to change the audio channels setting to ",(0,l.kt)("code",null,"mono")," and the audio codec to ",(0,l.kt)("code",null,"Vorbis")," because Minecraft likes the Vorbic codec."),(0,l.kt)("p",null,"If your custom sound is stored in a subfolder in the avatar, the subfolder name gets added onto the sound name like this:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-lua"},'sounds:playSound("subfolder.horn",player:getPos())\n')),(0,l.kt)("h3",{id:"mono-vs-stereo-sounds"},"Mono vs Stereo Sounds"),(0,l.kt)("p",null,"The audio channel type determines if the right and left ear will have two separate channels (meaning that the left and right ears can be different) or if they'll have the same channel for both ears."),(0,l.kt)("p",null,"Mono sounds are half the size of stereo when it comes to file size. Mono also acts like your average vanilla sound meaning only people near you will be able to hear the sound."),(0,l.kt)("p",null,"Stereo sounds are much bigger (and sounds are already quite big when it comes to file size) and will play for ",(0,l.kt)("em",{parentName:"p"},"everyone in the server")," similarly to activating an end portal. There's no way to get around that other than to swap the audio channels to mono."),(0,l.kt)("h2",{id:"alternative-ways-to-play-sounds"},"Alternative Ways To Play Sounds"),(0,l.kt)("p",null,"If you want to make a long or looping sound follow your movement you're going to need to use a different method for playing sounds."),(0,l.kt)("p",null,"You have to store a reference to the sound in a variable so you can use it later"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-lua"},'local wDeath = sounds["entity.wither.death"]\n')),(0,l.kt)("p",null,"Now you have the wither death sound available for your use wherever within that local scope."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-lua"},"wDeath:play()\n")),(0,l.kt)("p",null,"Will play the sound, but without a position it will be at (0,0,0) in the world."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-lua"},"function events.tick()\n     wDeath:pos(player:getPos())\nend\n")),(0,l.kt)("p",null,"Full example:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-lua"},'local wDeath = sounds["entity.wither.death"]\nwDeath:play()\nfunction events.tick()\n    wDeath:pos(player:getPos())\nend\n')),(0,l.kt)("p",null,"You can alter the volume, pitch, and loop with this method as well."),(0,l.kt)("h3",{id:"stop"},"stop"),(0,l.kt)("p",null,"Stops the sound"),(0,l.kt)("h3",{id:"play"},"play"),(0,l.kt)("p",null,"Plays the sound"),(0,l.kt)("h3",{id:"pause"},"pause"),(0,l.kt)("p",null,"Pauses the sound"),(0,l.kt)("h3",{id:"setposvec3"},"setPos(vec3)"),(0,l.kt)("p",null,"Sets the position of the sound"),(0,l.kt)("h3",{id:"getpos"},"getPos"),(0,l.kt)("p",null,"Gets the position of the sound as set by ",(0,l.kt)("code",null,"setPos")),(0,l.kt)("h3",{id:"isplaying"},"isPlaying"),(0,l.kt)("p",null,"Gets if the sound is playing, but this is an unreliable function. A workaround is to stop the sound before you play it (even if it isn't playing) so you can reset the playing state."),(0,l.kt)("h3",{id:"setvolumenumber"},"setVolume(number)"),(0,l.kt)("p",null,"Sets the volume of the sound"),(0,l.kt)("h3",{id:"getvolume"},"getVolume"),(0,l.kt)("p",null,"Gets the volume of the sound"),(0,l.kt)("h3",{id:"setpitchnumber"},"setPitch(number)"),(0,l.kt)("p",null,"Sets the pitch of the sound"),(0,l.kt)("h3",{id:"getpitch"},"getPitch"),(0,l.kt)("p",null,"Gets the pitch of the sound"),(0,l.kt)("h3",{id:"setloopbool"},"setLoop(bool)"),(0,l.kt)("p",null,"Sets if the sound will loop or not"),(0,l.kt)("h3",{id:"islooping"},"isLooping"),(0,l.kt)("p",null,"Gets if the sound is set to loop or not"),(0,l.kt)("h3",{id:"setattenuationnumber"},"setAttenuation(number)"),(0,l.kt)("p",null,"Sets the attenuation of the sound"),(0,l.kt)("h3",{id:"getattenuation"},"getAttenuation"),(0,l.kt)("p",null,"Gets the attenuation of the sound"),(0,l.kt)("h3",{id:"setsubtitlestring"},"setSubtitle(string)"),(0,l.kt)("p",null,"Sets the subtitle (the name that Minecraft's subtitle function will call the sound)"),(0,l.kt)("h3",{id:"getsubtitle"},"getSubtitle"),(0,l.kt)("p",null,"Gets the subtitle"))}h.isMDXComponent=!0}}]);